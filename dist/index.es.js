/*!
  backstage.js v0.0.1
  https://github.com/sushat4692/backstage.js#readme
  Released under the MIT License.
*/
import { eventmit } from 'eventmit';

var prepareEvent = function () {
    var progress = eventmit();
    var error = eventmit();
    var file_complete = eventmit();
    var complete = eventmit();
    var on = function (key, emitter) {
        switch (key) {
            case "progress":
                progress.on(emitter);
                break;
            case "error":
                error.on(emitter);
                break;
            case "file_complete":
                file_complete.on(emitter);
                break;
            case "complete":
                complete.on(emitter);
                break;
        }
    };
    var off = function (key, emitter) {
        switch (key) {
            case "progress":
                progress.off(emitter);
                break;
            case "error":
                error.off(emitter);
                break;
            case "file_complete":
                file_complete.off(emitter);
                break;
            case "complete":
                complete.off(emitter);
                break;
        }
    };
    var offAll = function (key) {
        switch (key) {
            case "progress":
                progress.offAll();
                break;
            case "error":
                error.offAll();
                break;
            case "file_complete":
                file_complete.offAll();
                break;
            case "complete":
                complete.offAll();
                break;
        }
    };
    var emit = function (key, value) {
        switch (key) {
            case "progress":
                return progress.emit(value);
            case "error":
                return error.emit(value);
            case "file_complete":
                return file_complete.emit(value);
            case "complete":
                return complete.emit(value);
        }
    };
    return {
        on: on,
        off: off,
        offAll: offAll,
        emit: emit,
    };
};

var SingleLoader = function (file, progress, complete, error) {
    var _total = 0;
    var _current = 0;
    var _ready = false;
    return {
        start: function () {
            var xhr = new XMLHttpRequest();
            xhr.open("get", file, true);
            xhr.responseType = "blob";
            xhr.onprogress = function (e) {
                if (!e.lengthComputable) {
                    return;
                }
                _ready = true;
                _total = e.total;
                _current = e.loaded;
                progress();
            };
            xhr.onload = function (e) {
                complete(file, _total);
            };
            xhr.onerror = function (e) {
                error();
            };
            xhr.send();
        },
        total: function () {
            return _total;
        },
        current: function () {
            return _current;
        },
        ready: function () {
            return _ready;
        },
    };
};
var Loader = function (files, emit) {
    var fileLength = files.length;
    var loaders = [];
    var fileResults = files.map(function (file) { return ({ file: file, size: 0 }); });
    files.forEach(function (file) {
        var loader = SingleLoader(file, function () {
            var ready = true;
            var result = loaders.reduce(function (acc, cur) {
                acc.total += cur.total();
                acc.current += cur.current();
                ready = ready && cur.ready();
                return acc;
            }, { total: 0, current: 0, per: 0 });
            if (ready) {
                result.per = result.current / result.total;
                emit("progress", result);
            }
        }, function (file, size) {
            emit("file_complete", { file: file, size: size });
            var total = 0;
            fileResults = fileResults.map(function (res) {
                var _size = file === res.file ? size : res.size;
                total += _size;
                return {
                    file: res.file,
                    size: _size,
                };
            });
            fileLength -= 1;
            if (fileLength <= 0) {
                emit("complete", { total: total, files: fileResults });
            }
        }, function () {
            emit("error", new Error("error"));
        });
        loaders.push(loader);
    });
    return {
        start: function () {
            loaders.forEach(function (loader) {
                loader.start();
            });
        },
    };
};

var Backstage = function (files) {
    var _a = prepareEvent(), on = _a.on, off = _a.off, offAll = _a.offAll, emit = _a.emit;
    var loader = Loader(files, emit);
    return {
        on: on,
        off: off,
        offAll: offAll,
        start: loader.start,
    };
};

export { Backstage };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguZXMuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9FdmVudC50cyIsIi4uLy4uL3NyYy9Mb2FkZXIudHMiLCIuLi8uLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnRtaXQsIEV2ZW50bWl0SGFuZGxlciB9IGZyb20gXCJldmVudG1pdFwiO1xuaW1wb3J0IHsgRXZlbnRFbWl0S2V5LCBFdmVudEVtaXRUeXBlIH0gZnJvbSBcIi4vdHlwZVwiO1xuXG5leHBvcnQgY29uc3QgcHJlcGFyZUV2ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2dyZXNzID0gZXZlbnRtaXQ8RXZlbnRFbWl0S2V5PFwicHJvZ3Jlc3NcIj4+KCk7XG4gICAgY29uc3QgZXJyb3IgPSBldmVudG1pdDxFdmVudEVtaXRLZXk8XCJlcnJvclwiPj4oKTtcbiAgICBjb25zdCBmaWxlX2NvbXBsZXRlID0gZXZlbnRtaXQ8RXZlbnRFbWl0S2V5PFwiZmlsZV9jb21wbGV0ZVwiPj4oKTtcbiAgICBjb25zdCBjb21wbGV0ZSA9IGV2ZW50bWl0PEV2ZW50RW1pdEtleTxcImNvbXBsZXRlXCI+PigpO1xuXG4gICAgY29uc3Qgb24gPSA8SyBleHRlbmRzIEV2ZW50RW1pdFR5cGU+KFxuICAgICAgICBrZXk6IEssXG4gICAgICAgIGVtaXR0ZXI6IEV2ZW50bWl0SGFuZGxlcjxFdmVudEVtaXRLZXk8Sz4+XG4gICAgKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlIFwicHJvZ3Jlc3NcIjpcbiAgICAgICAgICAgICAgICBwcm9ncmVzcy5vbihcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlciBhcyBFdmVudG1pdEhhbmRsZXI8RXZlbnRFbWl0S2V5PFwicHJvZ3Jlc3NcIj4+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgIGVycm9yLm9uKGVtaXR0ZXIgYXMgRXZlbnRtaXRIYW5kbGVyPEV2ZW50RW1pdEtleTxcImVycm9yXCI+Pik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmlsZV9jb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgIGZpbGVfY29tcGxldGUub24oXG4gICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIgYXMgRXZlbnRtaXRIYW5kbGVyPEV2ZW50RW1pdEtleTxcImZpbGVfY29tcGxldGVcIj4+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgIGNvbXBsZXRlLm9uKFxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyIGFzIEV2ZW50bWl0SGFuZGxlcjxFdmVudEVtaXRLZXk8XCJjb21wbGV0ZVwiPj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9mZiA9IDxLIGV4dGVuZHMgRXZlbnRFbWl0VHlwZT4oXG4gICAgICAgIGtleTogSyxcbiAgICAgICAgZW1pdHRlcjogRXZlbnRtaXRIYW5kbGVyPEV2ZW50RW1pdEtleTxLPj5cbiAgICApID0+IHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9ncmVzc1wiOlxuICAgICAgICAgICAgICAgIHByb2dyZXNzLm9mZihcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlciBhcyBFdmVudG1pdEhhbmRsZXI8RXZlbnRFbWl0S2V5PFwicHJvZ3Jlc3NcIj4+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgIGVycm9yLm9mZihlbWl0dGVyIGFzIEV2ZW50bWl0SGFuZGxlcjxFdmVudEVtaXRLZXk8XCJlcnJvclwiPj4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZpbGVfY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICBmaWxlX2NvbXBsZXRlLm9mZihcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlciBhcyBFdmVudG1pdEhhbmRsZXI8RXZlbnRFbWl0S2V5PFwiZmlsZV9jb21wbGV0ZVwiPj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgICAgICAgY29tcGxldGUub2ZmKFxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyIGFzIEV2ZW50bWl0SGFuZGxlcjxFdmVudEVtaXRLZXk8XCJjb21wbGV0ZVwiPj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9mZkFsbCA9IChrZXk6IEV2ZW50RW1pdFR5cGUpID0+IHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9ncmVzc1wiOlxuICAgICAgICAgICAgICAgIHByb2dyZXNzLm9mZkFsbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgZXJyb3Iub2ZmQWxsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZmlsZV9jb21wbGV0ZVwiOlxuICAgICAgICAgICAgICAgIGZpbGVfY29tcGxldGUub2ZmQWxsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICBjb21wbGV0ZS5vZmZBbGwoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBlbWl0ID0gPEsgZXh0ZW5kcyBFdmVudEVtaXRUeXBlPihrZXk6IEssIHZhbHVlOiBFdmVudEVtaXRLZXk8Sz4pID0+IHtcbiAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJwcm9ncmVzc1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9ncmVzcy5lbWl0KHZhbHVlIGFzIEV2ZW50RW1pdEtleTxcInByb2dyZXNzXCI+KTtcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5lbWl0KHZhbHVlIGFzIEV2ZW50RW1pdEtleTxcImVycm9yXCI+KTtcbiAgICAgICAgICAgIGNhc2UgXCJmaWxlX2NvbXBsZXRlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVfY29tcGxldGUuZW1pdChcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgYXMgRXZlbnRFbWl0S2V5PFwiZmlsZV9jb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGUuZW1pdCh2YWx1ZSBhcyBFdmVudEVtaXRLZXk8XCJjb21wbGV0ZVwiPik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb24sXG4gICAgICAgIG9mZixcbiAgICAgICAgb2ZmQWxsLFxuICAgICAgICBlbWl0LFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgRXZlbnRFbWl0S2V5LCBFdmVudEVtaXRUeXBlLCBMb2FkZWRGaWxlIH0gZnJvbSBcIi4vdHlwZVwiO1xuXG5jb25zdCBTaW5nbGVMb2FkZXIgPSAoXG4gICAgZmlsZTogc3RyaW5nLFxuICAgIHByb2dyZXNzOiAoKSA9PiB2b2lkLFxuICAgIGNvbXBsZXRlOiAoZmlsZTogc3RyaW5nLCBzaXplOiBudW1iZXIpID0+IHZvaWQsXG4gICAgZXJyb3I6ICgpID0+IHZvaWRcbikgPT4ge1xuICAgIGxldCBfdG90YWwgPSAwO1xuICAgIGxldCBfY3VycmVudCA9IDA7XG4gICAgbGV0IF9yZWFkeSA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4oXCJnZXRcIiwgZmlsZSwgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJibG9iXCI7XG5cbiAgICAgICAgICAgIHhoci5vbnByb2dyZXNzID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9yZWFkeSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBfdG90YWwgPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIF9jdXJyZW50ID0gZS5sb2FkZWQ7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKGZpbGUsIF90b3RhbCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB4aHIub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHhoci5zZW5kKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvdGFsOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX3RvdGFsO1xuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX2N1cnJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWR5OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWR5O1xuICAgICAgICB9LFxuICAgIH07XG59O1xudHlwZSBTaW5nbGVMb2FkZXJUeXBlID0gUmV0dXJuVHlwZTx0eXBlb2YgU2luZ2xlTG9hZGVyPjtcblxuZXhwb3J0IGNvbnN0IExvYWRlciA9IChcbiAgICBmaWxlczogc3RyaW5nW10sXG4gICAgZW1pdDogPEsgZXh0ZW5kcyBFdmVudEVtaXRUeXBlPihrZXk6IEssIHZhbHVlOiBFdmVudEVtaXRLZXk8Sz4pID0+IHZvaWRcbikgPT4ge1xuICAgIGxldCBmaWxlTGVuZ3RoID0gZmlsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGxvYWRlcnM6IFNpbmdsZUxvYWRlclR5cGVbXSA9IFtdO1xuXG4gICAgbGV0IGZpbGVSZXN1bHRzOiBMb2FkZWRGaWxlW10gPSBmaWxlcy5tYXAoKGZpbGUpID0+ICh7IGZpbGUsIHNpemU6IDAgfSkpO1xuXG4gICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICBjb25zdCBsb2FkZXIgPSBTaW5nbGVMb2FkZXIoXG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByZWFkeSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBsb2FkZXJzLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgKGFjYywgY3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MudG90YWwgKz0gY3VyLnRvdGFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2MuY3VycmVudCArPSBjdXIuY3VycmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHkgPSByZWFkeSAmJiBjdXIucmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdG90YWw6IDAsIGN1cnJlbnQ6IDAsIHBlcjogMCB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucGVyID0gcmVzdWx0LmN1cnJlbnQgLyByZXN1bHQudG90YWw7XG4gICAgICAgICAgICAgICAgICAgIGVtaXQoXCJwcm9ncmVzc1wiLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZmlsZSwgc2l6ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGVtaXQoXCJmaWxlX2NvbXBsZXRlXCIsIHsgZmlsZSwgc2l6ZSB9KTtcblxuICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICAgICAgZmlsZVJlc3VsdHMgPSBmaWxlUmVzdWx0cy5tYXAoKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBfc2l6ZSA9IGZpbGUgPT09IHJlcy5maWxlID8gc2l6ZSA6IHJlcy5zaXplO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBfc2l6ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogcmVzLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBfc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGZpbGVMZW5ndGggLT0gMTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsZUxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXQoXCJjb21wbGV0ZVwiLCB7IHRvdGFsLCBmaWxlczogZmlsZVJlc3VsdHMgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBlbWl0KFwiZXJyb3JcIiwgbmV3IEVycm9yKFwiZXJyb3JcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBsb2FkZXJzLnB1c2gobG9hZGVyKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiAoKSA9PiB7XG4gICAgICAgICAgICBsb2FkZXJzLmZvckVhY2goKGxvYWRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGxvYWRlci5zdGFydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBwcmVwYXJlRXZlbnQgfSBmcm9tIFwiLi9FdmVudFwiO1xuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSBcIi4vTG9hZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBCYWNrc3RhZ2UgPSAoZmlsZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgeyBvbiwgb2ZmLCBvZmZBbGwsIGVtaXQgfSA9IHByZXBhcmVFdmVudCgpO1xuICAgIGNvbnN0IGxvYWRlciA9IExvYWRlcihmaWxlcywgZW1pdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBvbixcbiAgICAgICAgb2ZmLFxuICAgICAgICBvZmZBbGwsXG4gICAgICAgIHN0YXJ0OiBsb2FkZXIuc3RhcnQsXG4gICAgfTtcbn07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUdPLElBQU0sWUFBWSxHQUFHLFlBQUE7QUFDeEIsSUFBQSxJQUFNLFFBQVEsR0FBRyxRQUFRLEVBQTRCLENBQUM7QUFDdEQsSUFBQSxJQUFNLEtBQUssR0FBRyxRQUFRLEVBQXlCLENBQUM7QUFDaEQsSUFBQSxJQUFNLGFBQWEsR0FBRyxRQUFRLEVBQWlDLENBQUM7QUFDaEUsSUFBQSxJQUFNLFFBQVEsR0FBRyxRQUFRLEVBQTRCLENBQUM7QUFFdEQsSUFBQSxJQUFNLEVBQUUsR0FBRyxVQUNQLEdBQU0sRUFDTixPQUF5QyxFQUFBO0FB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
